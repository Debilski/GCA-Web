@(account: Option[Account], conference: Conference)

@template(account, Option(conference), "conference") {

    <div class="hidden-data">
        <div id="conference-uuid">@conference.uuid</div>
    </div>

    <div class="hidden-data">
        <div id="account-uuid">@if(account.isDefined) {
            @account.get.uuid
        }
        </div>
    </div>

    <script data-main="@routes.Assets.at("javascripts/ownerslist.js")"
        src="@routes.Assets.at("javascripts/require.js")"></script>

    <!-- Loading box -->
    <div data-bind="if: isLoading">
        <div class="alert alert-info fade in out">
            <h4>Loading data</h4>
            <p>Please wait...</p>
        </div>
    </div>

    <!-- Knockout non-flicker  -->
    <div style="display: none" data-bind="visible: true">

    <!-- Error message box -->
    <div data-bind="visible: error">
            <!-- ko with: error -->
        <div class="alert alert-warning fade in alert-dismissable" data-bind="css: level">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            <strong data-bind="html: message"></strong>
        </div>
            <!-- /ko -->
    </div>

    <!-- The conference info page -->

    <div class="page-header">
        <h1>@conference.name</h1>
    </div>

    @if(conference.logo != null && conference.link != null) {
        <div>
            <a href="@conference.link">
                <img class="conference-logo img-responsive img-rounded" src="@conference.logo" alt="Conference Logo">
            </a>
        </div>
    }

    <!-- Buttons to register, sign in and submit -->

    <h3>Abstract Submission</h3>
    @if(conference.isOpen) {
    <div>
        <p>Submission is currently <span class="text-success"><b>open</b></span>.
        @if(!account.isDefined) {
            In order to submit an abstract please login or register.</p>

        <a href="@securesocial.core.providers.utils.RoutesHelper.login()" class="btn btn-primary">Login</a>
        <a href="@securesocial.core.providers.utils.RoutesHelper.startSignUp()" class="btn btn-primary">Sign up</a>

        } else {
            In order to submit an abstract please press the appropriate button below.</p>
            <form action="@routes.Application.submission(conference.uuid)">
                <input class="btn btn-success" type="submit" value="Submit an Abstract">
            </form>
        }
    </div>
    } else {
    <div>
        <p>Abstract submission is currently <span class="text-danger"><b>closed</b></span>.</p>
    </div>
    }

    <hr>

    <!-- Conference owner section to manage owners -->

    @if(account.isDefined) {
        @if(conference.isOwner(account.get) || account.get.isAdmin) {
            <a href="@routes.Application.adminConference(conference.uuid)" class="btn btn-danger">Conference Administration</a>
        }
    }

    </div> <!-- KO !flickerbox -->
}